Docker note
  docker is engine container 

before the docker it was one hypervisor on top of that they use to download software 
hypervisor is used to create virtual machines  example for that vm ware, Cisco 
so people is used download all the software on it then they used to use them 

but now docker is available we can download it in our OS it open source came to the market in 

in order to use docker we have to pull some images then create the container on top of it 

and every images and containers they are totally isolated from each other and each of them using OS ram and how they are using ram is 
perfect so they are not taking unnecessarily ram for that reason docker is perfect

for that we are gonna use RWC --->> stands for remote webdirver concept 

this rwc have ip port number on the hub so when we trigger the commands it will communicate with our test script then it will send request 
based on how we configured in our xml file which test will run on which browser 
so based on that it images and containers will contribute and execute our test cases 

to download the docker go to doceker.com download it 
for mac its easy for windows you have to download docker toolbox also 

after installation to verify if its correctly installed   ---->>>  docker run hello-world 
or docker -v   

docker images 
docker ps -a  --->> to check how many containers 
 docker system prune -a  to delete all the containers and images 
 
signUp on docker hub then search all the images  they come with command line run command just simple copy specific of them then run on your terminal

for testing purpose what i need first 

selenium/hub   ---> then copy cmd 
this cmd will pull all the necessary image from hub but this is not gonna create container it will just create image 

selenium/node-chrome-debug ----->>> copy cmd then paste it in terminal 

selenium/node-firefox-debug ----->>> copy cmd then paste it in terminal 

all the cmd will be given in website 

so after pulling images you have to create container to start ---->> on top of each images for that there are special run command 
pay close attention here 

docker run -d -p 4444:4444 --name selenium-hub -P selenium/hub   ---->> this is the cmd for creating container for selenium hub 
-d means run on the background and show me the logs,
 -p means which port
   4444:4444 is the port number where it will run,
 --name means whatever name you want to give to your container,
 -P capital P here means exactly which image 

after creating container quickly if you want to check if its created or not 
run this cmd   docker run ps -a  


*******************************************************************************
another tip for u so lets say your docker already running on the browser level 
and you didn't shut is down after one day or something like that it will stop working 
to make it up and run again no need to delete container and run command again simple change the name of the given container name thats it after that it will be again up-and-run on browser 
****************************************************************************



after creating container i have to link it with image 
image is there container is there to link them i m going to run 

 *****  docker -d -P --link selenium-hub1:hub selenium/node-chrome-debug ******
this cmd will connect them 
here -d run on back ground and give me the logs -P is the image with the given name link is to link them hub is in the hub level means cloud level 

after that it will create connection then go to your browser update it click on console then you will be able to see web-driver over there 
  
if you want to create one more container then run this command once again 
 *****  docker -d -P --link selenium-hub1:hub selenium/node-chrome-debug ******

then refresh your browser it will be another browser 

after that if it says on your requirements add fire fox driver then go again docker hub web site 
search for    <<<<<<<<<<  selenium/node-firefox-debug  >>>>>>
then copy the given command 
paste it on your browser then link it with image 

then refresh your browser it will be Firefox driver over there up and running


so how to run test cases on hub on grid 
for that you going to your eclipse going to base page adding desired capabilities to your base page 
then good to go 

so after that you can run your test cases through testng.xml file also from terminal and Jenkins 

in terminal just type mvn clean install press enter 

docker logs + container id ------>> it will print all the logs for you 

docker logs + container id which you execute your test cases it will provide you with all the important logs 
but it s not gonna provide you with all the test execution logs for that we have to download vnc viewer 

the purpose of the vnc viewer to see all the logs what happening while executing my test cases 
because on the remote machine its running on the hub with linux and its not visible 
for that reason need to download vnc viewer   


after downloading how to use for that signUp in website 
open the vnc viewer app   type localhost:here the port number  
port number can be find in your terminal  just run docker ps -a  then you will see the containers in which container you are running your test copy that browser port number paste it here 

for example  localhost:32748

you can rename your vnc viewer as well and after executing your test cases open the vnc viewer you will see all the actions over there 



another concept in grid we can create n number of the container on top of the image its all manually 

so after all lets say i want to disable any container for that we dont use disable method we use docker kill

docker kill and here docker id for example
 <<<<<<<<<<<<<    docker kill b0aea92ebe47 >>>>>>>>>>>>
this command will kill it and it will exited 
but it will be still visible in terminal to delete it completaly run 
<<<<< docker rm b0aea92ebe47 >>>>>   it will remove from terminal 

another thing you cannot right away remove the running container first you have to kill it then remove 

docker system prune -a  ------>>> to remove all the images and containers all together 

if you want remove specific images after killing you can remove it 
by 
docker rmi image id 



**********************************************************************************************************************************************

                                                                  DOCKER COMPOSER CONCEPT


its providin us with yml file  
so yml file says you have to write some information some logic inside the file then that file will do everything instead of you
yml file will download all the important images and containers then it will link them together then its ready to execute your test cses 

for that first check docker-compose version   

then create one yml file under your docker folder then add special information the information u add should cover to install selenium hub
chrome and firefox debug concept and to link them each other this information it can be find in docker hub offical website 

to work with docker compose after cheking version 
then go to the directory of created compose file make sure u are in that directory just run pwd command you will make sure 
then simple run docker-compose up 

it looks like this example 

version: "3"
services:
  selenium-hub:
    image: selenium/hub:3.141.59-yttrium
    container_name: selenium-hub
    ports:
      - "4444:4444"

  chrome:
    image: selenium/node-chrome:3.141.59-yttrium
    deploy:
      replicas: 5
    volumes:
      - /dev/shm:/dev/shm
    depends_on:
      - selenium-hub
    environment:
      - HUB_HOST=selenium-hub
      - HUB_PORT=4444

  firefox:
    image: selenium/node-firefox:3.141.59-yttrium
    deploy:
      replicas: 5
    volumes:
      - /dev/shm:/dev/shm
    depends_on:
      - selenium-hub
    environment:
      - HUB_HOST=selenium-hub
      - HUB_PORT=4444


TIPS
Docker compose is the 
: tool for defining & running multi-container docker applications
: use yaml files to configure application services (docker-compose.yml)
: can start all services with a single command : docker compose up
: can stop all services with a single command : docker compose down
: can scale up selected services when required



after creating this file in your OS then go to that directory run this command 
docker-compose config  this cmd will check validity of your file 

after that run docker-compose up   it means set up my infrustructor it will download all the necessary files and confuguration

this command automatically will install first selenium hub then chrome node then firefox node and it will  link them 
if you want to add opera browser also you can add information about in you yml file then up and run it one more time

after that make your remote flag true in prop file 
then run your test cases 
mvn clean instal   ------>>>>> run this cmd 

after that if you want to shut down your server its very simple 

press control+c  


another concept in docker-compose  usually while starting this cmd 
we do docker-compose up -d  
means start my docker quick -d means run logs in the background its fast and quick process 

and if you want to shut down just run 
docker-compose down
docker -compose ps  --->>> how many container are running 

another important concept lets say in your requirements you have to run your test cases in 3 chrome and 3 firefox browser 

for that no need to make some changes in your .yml file u just go your terminal run 
docker-compose up -d starting docker compose 
docker-compose scale chrome=3   it means total chrome browser will be 3 
for other browser same way 
this is the power of docker with compose 
earlier there were not this chance to have it people to run parallael with diffrent browsers they had to have another OS 

now time to shut down server and start new tool    run                 <<<<<<<<< docker-compose down >>>>>>>>>>>>
still there images are running   run   <<<< docker immages >>>>>   then <<<<<  docker system prune -a >>>>
its gonna ask you are sure    type  y  then enter it will shutdown now system fresh again 


###############################################################################################################################################################



                                             ZALENIUM DOCKER   

zalenium is another docker grid container name is zalenium its just wrapper on top of selenium grid infrustructor 
its open source provided by zalando company 

 




















































 

















